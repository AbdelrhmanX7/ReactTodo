!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DnDMultiBackend=e():n.DnDMultiBackend=e()}(self,(function(){return function(){"use strict";var n={435:function(n,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.MultiBackendImpl=void 0;var r=t(40);function i(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var o,a,c,s,u,f,d,l,p,h,v,y=function(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t},b=function(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)},w=function n(e,t,w){var m=this;if(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),s.set(this,void 0),u.set(this,void 0),f.set(this,(function(n,e,t){var r,i;if(!t.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(JSON.stringify(t)));var o=t.backend(n,e,t.options),a=t.id,s=!t.id&&o&&o.constructor;if(s&&(a=o.constructor.name),!a)throw new Error("You must specify an 'id' property in your Backend entry: ".concat(JSON.stringify(t),"\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx"));if(s&&console.warn("Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.\n        This might be unsupported in the future, please specify 'id' explicitely for every backend."),b(m,c)[a])throw new Error("You must specify a unique 'id' property in your Backend entry:\n        ".concat(JSON.stringify(t)," (conflicts with: ").concat(JSON.stringify(b(m,c)[a]),")"));return{id:a,instance:o,preview:null!==(r=t.preview)&&void 0!==r&&r,transition:t.transition,skipDispatchOnTransition:null!==(i=t.skipDispatchOnTransition)&&void 0!==i&&i}})),this.setup=function(){if("undefined"!=typeof window){if(n.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");n.isSetUp=!0,b(m,d).call(m,window),b(m,c)[b(m,o)].instance.setup()}},this.teardown=function(){"undefined"!=typeof window&&(n.isSetUp=!1,b(m,l).call(m,window),b(m,c)[b(m,o)].instance.teardown())},this.connectDragSource=function(n,e,t){return b(m,v).call(m,"connectDragSource",n,e,t)},this.connectDragPreview=function(n,e,t){return b(m,v).call(m,"connectDragPreview",n,e,t)},this.connectDropTarget=function(n,e,t){return b(m,v).call(m,"connectDropTarget",n,e,t)},this.profile=function(){return b(m,c)[b(m,o)].instance.profile()},this.previewEnabled=function(){return b(m,c)[b(m,o)].preview},this.previewsList=function(){return b(m,a)},this.backendsList=function(){return b(m,s)},d.set(this,(function(n){b(m,s).forEach((function(e){e.transition&&n.addEventListener(e.transition.event,b(m,p))}))})),l.set(this,(function(n){b(m,s).forEach((function(e){e.transition&&n.removeEventListener(e.transition.event,b(m,p))}))})),p.set(this,(function(n){var e=b(m,o);if(b(m,s).some((function(e){return!(e.id===b(m,o)||!e.transition||!e.transition.check(n)||(y(m,o,e.id),0))})),b(m,o)!==e){var t;b(m,c)[e].instance.teardown(),Object.keys(b(m,u)).forEach((function(n){var e,t,r=b(m,u)[n];r.unsubscribe(),r.unsubscribe=(e=b(m,h)).call.apply(e,[m,r.func].concat(function(n){if(Array.isArray(n))return i(n)}(t=r.args)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(t)||function(n,e){if(n){if("string"==typeof n)return i(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(n,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))})),b(m,a).backendChanged(m);var r=b(m,c)[b(m,o)];if(r.instance.setup(),r.skipDispatchOnTransition)return;var f=null;try{f=n.constructor(n.type,n)}catch(e){(f=document.createEvent("Event")).initEvent(n.type,n.bubbles,n.cancelable)}null===(t=n.target)||void 0===t||t.dispatchEvent(f)}})),h.set(this,(function(n,e,t,r){return b(m,c)[b(m,o)].instance[n](e,t,r)})),v.set(this,(function(n,e,t,r){var i="".concat(n,"_").concat(e),o=b(m,h).call(m,n,e,t,r);return b(m,u)[i]={func:n,args:[e,t,r],unsubscribe:o},function(){b(m,u)[i].unsubscribe(),delete b(m,u)[i]}})),!w||!w.backends||w.backends.length<1)throw new Error("You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx");y(this,a,new r.PreviewListImpl),y(this,c,{}),y(this,s,[]),w.backends.forEach((function(n){var r=b(m,f).call(m,e,t,n);b(m,c)[r.id]=r,b(m,s).push(r)})),y(this,o,b(this,s)[0].id),y(this,u,{})};e.MultiBackendImpl=w,o=new WeakMap,a=new WeakMap,c=new WeakMap,s=new WeakMap,u=new WeakMap,f=new WeakMap,d=new WeakMap,l=new WeakMap,p=new WeakMap,h=new WeakMap,v=new WeakMap,w.isSetUp=!1},132:function(n,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.MultiFactory=void 0;var r=t(435);e.MultiFactory=function(n,e,t){return new r.MultiBackendImpl(n,e,t)}},40:function(n,e){function t(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.PreviewListImpl=void 0;var r,i=function(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)};e.PreviewListImpl=function n(){var e=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r.set(this,void 0),this.register=function(n){i(e,r).push(n)},this.unregister=function(n){for(var t;-1!==(t=i(e,r).indexOf(n));)i(e,r).splice(t,1)},this.backendChanged=function(n){var o,a=function(n,e){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,e){if(n){if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){r&&(n=r);var i=0,o=function(){};return{s:o,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return c=n.done,n},e:function(n){s=!0,a=n},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}(i(e,r));try{for(a.s();!(o=a.n()).done;)o.value.backendChanged(n)}catch(n){a.e(n)}finally{a.f()}},function(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");e.set(n,t)}(this,r,[])},r=new WeakMap},621:function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTransition=void 0,e.createTransition=function(n,e){return{event:n,check:e}}},465:function(n,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.PointerTransition=e.MouseTransition=e.HTML5DragTransition=e.TouchTransition=void 0;var r=t(621),i=(0,r.createTransition)("touchstart",(function(n){var e=n;return null!==e.touches&&void 0!==e.touches}));e.TouchTransition=i;var o=(0,r.createTransition)("dragstart",(function(n){return-1!==n.type.indexOf("drag")||-1!==n.type.indexOf("drop")}));e.HTML5DragTransition=o;var a=(0,r.createTransition)("mousedown",(function(n){return-1===n.type.indexOf("touch")&&-1!==n.type.indexOf("mouse")}));e.MouseTransition=a;var c=(0,r.createTransition)("pointerdown",(function(n){return"mouse"==n.pointerType}));e.PointerTransition=c}},e={};function t(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return n[r](o,o.exports,t),o.exports}var r={};return function(){var n=r;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultiBackend",{enumerable:!0,get:function(){return e.MultiFactory}}),Object.defineProperty(n,"createTransition",{enumerable:!0,get:function(){return i.createTransition}}),Object.defineProperty(n,"HTML5DragTransition",{enumerable:!0,get:function(){return o.HTML5DragTransition}}),Object.defineProperty(n,"TouchTransition",{enumerable:!0,get:function(){return o.TouchTransition}}),Object.defineProperty(n,"MouseTransition",{enumerable:!0,get:function(){return o.MouseTransition}}),Object.defineProperty(n,"PointerTransition",{enumerable:!0,get:function(){return o.PointerTransition}});var e=t(132),i=t(621),o=t(465)}(),r}()}));