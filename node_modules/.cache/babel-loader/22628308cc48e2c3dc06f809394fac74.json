{"ast":null,"code":"// Reminder:\n// getInitialClientOffset: clientX/clientY when drag started\n// getInitialSourceClientOffset: parent top/left bounding box when drag started\n// getClientOffset: current clientX/clientY\n// getSourceClientOffset: difference between parent top/left and current clientX/clientY\n//  = (getClientOffset + getInitialSourceClientOffset) - getInitialClientOffset\n// getDifferenceFromInitialOffset: difference between clientX/clientY when drag started and current one\nvar subtract = function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n};\n\nvar calculateParentOffset = function calculateParentOffset(monitor) {\n  var client = monitor.getInitialClientOffset();\n  var source = monitor.getInitialSourceClientOffset(); // TODO: why is client containing `undefined` values _sometimes_?\n  // more precisely, just after MultiBackend switched from HTML5 to Touch _for the first time_?\n\n  if (client === null || source === null || client.x === undefined || client.y === undefined) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return subtract(client, source);\n};\n\nexport var calculatePointerPosition = function calculatePointerPosition(monitor, childRef) {\n  var offset = monitor.getClientOffset();\n\n  if (offset === null) {\n    return null;\n  } // If we don't have a reference to a valid child, use the default offset:\n  // current cursor - initial parent/drag source offset\n\n\n  if (!childRef.current || !childRef.current.getBoundingClientRect) {\n    return subtract(offset, calculateParentOffset(monitor));\n  }\n\n  var bb = childRef.current.getBoundingClientRect();\n  var middle = {\n    x: bb.width / 2,\n    y: bb.height / 2\n  };\n  return subtract(offset, middle);\n};","map":{"version":3,"names":["subtract","a","b","x","y","calculateParentOffset","monitor","client","getInitialClientOffset","source","getInitialSourceClientOffset","undefined","calculatePointerPosition","childRef","offset","getClientOffset","current","getBoundingClientRect","bb","middle","width","height"],"sources":["E:/Front-End-Challenges/React-Challenges/Completed Challenges/ReactTodo/node_modules/react-dnd-multi-backend/node_modules/react-dnd-preview/dist/esm/offsets.js"],"sourcesContent":["// Reminder:\n// getInitialClientOffset: clientX/clientY when drag started\n// getInitialSourceClientOffset: parent top/left bounding box when drag started\n// getClientOffset: current clientX/clientY\n// getSourceClientOffset: difference between parent top/left and current clientX/clientY\n//  = (getClientOffset + getInitialSourceClientOffset) - getInitialClientOffset\n// getDifferenceFromInitialOffset: difference between clientX/clientY when drag started and current one\nvar subtract = function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n};\n\nvar calculateParentOffset = function calculateParentOffset(monitor) {\n  var client = monitor.getInitialClientOffset();\n  var source = monitor.getInitialSourceClientOffset(); // TODO: why is client containing `undefined` values _sometimes_?\n  // more precisely, just after MultiBackend switched from HTML5 to Touch _for the first time_?\n\n  if (client === null || source === null || client.x === undefined || client.y === undefined) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return subtract(client, source);\n};\n\nexport var calculatePointerPosition = function calculatePointerPosition(monitor, childRef) {\n  var offset = monitor.getClientOffset();\n\n  if (offset === null) {\n    return null;\n  } // If we don't have a reference to a valid child, use the default offset:\n  // current cursor - initial parent/drag source offset\n\n\n  if (!childRef.current || !childRef.current.getBoundingClientRect) {\n    return subtract(offset, calculateParentOffset(monitor));\n  }\n\n  var bb = childRef.current.getBoundingClientRect();\n  var middle = {\n    x: bb.width / 2,\n    y: bb.height / 2\n  };\n  return subtract(offset, middle);\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,QAAQ,GAAG,SAASA,QAAT,CAAkBC,CAAlB,EAAqBC,CAArB,EAAwB;EACrC,OAAO;IACLC,CAAC,EAAEF,CAAC,CAACE,CAAF,GAAMD,CAAC,CAACC,CADN;IAELC,CAAC,EAAEH,CAAC,CAACG,CAAF,GAAMF,CAAC,CAACE;EAFN,CAAP;AAID,CALD;;AAOA,IAAIC,qBAAqB,GAAG,SAASA,qBAAT,CAA+BC,OAA/B,EAAwC;EAClE,IAAIC,MAAM,GAAGD,OAAO,CAACE,sBAAR,EAAb;EACA,IAAIC,MAAM,GAAGH,OAAO,CAACI,4BAAR,EAAb,CAFkE,CAEb;EACrD;;EAEA,IAAIH,MAAM,KAAK,IAAX,IAAmBE,MAAM,KAAK,IAA9B,IAAsCF,MAAM,CAACJ,CAAP,KAAaQ,SAAnD,IAAgEJ,MAAM,CAACH,CAAP,KAAaO,SAAjF,EAA4F;IAC1F,OAAO;MACLR,CAAC,EAAE,CADE;MAELC,CAAC,EAAE;IAFE,CAAP;EAID;;EAED,OAAOJ,QAAQ,CAACO,MAAD,EAASE,MAAT,CAAf;AACD,CAbD;;AAeA,OAAO,IAAIG,wBAAwB,GAAG,SAASA,wBAAT,CAAkCN,OAAlC,EAA2CO,QAA3C,EAAqD;EACzF,IAAIC,MAAM,GAAGR,OAAO,CAACS,eAAR,EAAb;;EAEA,IAAID,MAAM,KAAK,IAAf,EAAqB;IACnB,OAAO,IAAP;EACD,CALwF,CAKvF;EACF;;;EAGA,IAAI,CAACD,QAAQ,CAACG,OAAV,IAAqB,CAACH,QAAQ,CAACG,OAAT,CAAiBC,qBAA3C,EAAkE;IAChE,OAAOjB,QAAQ,CAACc,MAAD,EAAST,qBAAqB,CAACC,OAAD,CAA9B,CAAf;EACD;;EAED,IAAIY,EAAE,GAAGL,QAAQ,CAACG,OAAT,CAAiBC,qBAAjB,EAAT;EACA,IAAIE,MAAM,GAAG;IACXhB,CAAC,EAAEe,EAAE,CAACE,KAAH,GAAW,CADH;IAEXhB,CAAC,EAAEc,EAAE,CAACG,MAAH,GAAY;EAFJ,CAAb;EAIA,OAAOrB,QAAQ,CAACc,MAAD,EAASK,MAAT,CAAf;AACD,CAnBM"},"metadata":{},"sourceType":"module"}