{"ast":null,"code":"import _slicedToArray from \"E:/Front-End-Challenges/React-Challenges/Completed Challenges/ReactTodo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCollector } from './useCollector.js';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","map":{"version":3,"mappings":";AACA,SAASA,YAAT,QAA6B,mBAA7B;AACA,SAASC,yBAAT,QAA0C,gCAA1C;AAEA,OAAO,SAASC,gBAAT,CACNC,OADM,EAENC,OAFM,EAGNC,SAHM,EAIM;EACZ,oBAAqCL,YAAY,CAACG,OAAD,EAAUC,OAAV,EAAmBC,SAAnB,CAAjD;EAAA;EAAA,IAAOC,SAAP;EAAA,IAAkBC,eAAlB;;EAEAN,yBAAyB,CACxB,SAASO,6BAAT,GAAyC;IACxC,IAAMC,SAAS,GAAGN,OAAO,CAACO,YAARP,EAAlB;;IACA,IAAIM,SAAS,IAAI,IAAjB,EAAuB;MACtB;IACA;;IACD,OAAON,OAAO,CAACQ,sBAARR,CAA+BI,eAA/BJ,EAAgD;MACtDS,UAAU,EAAE,CAACH,SAAD;IAD0C,CAAhDN,CAAP;EAGA,CATuB,EAUxB,CAACA,OAAD,EAAUI,eAAV,CAVwB,CAAzBN;EAaA,OAAOK,SAAP;AACA","names":["useCollector","useIsomorphicLayoutEffect","useMonitorOutput","monitor","collect","onCollect","collected","updateCollected","subscribeToMonitorStateChange","handlerId","getHandlerId","subscribeToStateChange","handlerIds"],"sources":["E:\\Front-End-Challenges\\React-Challenges\\Completed Challenges\\ReactTodo\\node_modules\\react-dnd\\src\\hooks\\useMonitorOutput.ts"],"sourcesContent":["import type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useCollector } from './useCollector.js'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\nexport function useMonitorOutput<Monitor extends HandlerManager, Collected>(\n\tmonitor: Monitor & MonitorEventEmitter,\n\tcollect: (monitor: Monitor) => Collected,\n\tonCollect?: () => void,\n): Collected {\n\tconst [collected, updateCollected] = useCollector(monitor, collect, onCollect)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction subscribeToMonitorStateChange() {\n\t\t\tconst handlerId = monitor.getHandlerId()\n\t\t\tif (handlerId == null) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn monitor.subscribeToStateChange(updateCollected, {\n\t\t\t\thandlerIds: [handlerId],\n\t\t\t})\n\t\t},\n\t\t[monitor, updateCollected],\n\t)\n\n\treturn collected\n}\n"]},"metadata":{},"sourceType":"module"}