{"ast":null,"code":"import _slicedToArray from\"E:/Front-End-Challenges/React-Challenges/Completed Challenges/ReactTodo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import update from\"immutability-helper\";import{useCallback,useEffect,useState}from\"react\";import{useDrop}from\"react-dnd\";import{ItemType}from\"../../utils/items\";import\"./../UI/Todo.css\";import TodoResults from\"./TodoResults\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TodoList=function TodoList(props){var _useState=useState(props.Data),_useState2=_slicedToArray(_useState,2),ITEMS=_useState2[0],setItems=_useState2[1];var _useState3=useState(ITEMS),_useState4=_slicedToArray(_useState3,2),cards=_useState4[0],setCards=_useState4[1];var findCard=useCallback(function(id){var card=cards.filter(function(c){return\"\".concat(c.id)===id;})[0];return{card:card,index:cards.indexOf(card)};},[cards]);useEffect(function(){setCards(props.Data);},[props.Data]);var moveCard=useCallback(function(id,atIndex){var _findCard=findCard(id),card=_findCard.card,index=_findCard.index;setCards(update(cards,{$splice:[[index,1],[atIndex,0,card]]}));},[findCard,cards,setCards]);useEffect(function(){props.onUpdate(cards);},[cards]);useEffect(function(){var str=localStorage.getItem('test');var parseObj=JSON.parse(str);props.onUpdate(parseObj);setCards(parseObj);},[]);useEffect(function(){var jsonObj=JSON.stringify(props.Data);localStorage.setItem('test',jsonObj);},[props.Data]);var _useDrop=useDrop(function(){return{accept:ItemType.CARD};}),_useDrop2=_slicedToArray(_useDrop,2),drop=_useDrop2[1];var btns=document.getElementsByClassName(\"Checked-btns\");var _useState5=useState(\"All\"),_useState6=_slicedToArray(_useState5,2),checkState=_useState6[0],setCheckState=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),Datalen=_useState8[0],setDataLen=_useState8[1];var CheckLen=function CheckLen(){var GetLen=props.Data.filter(function(card){return card.state===\"Complete\";});setDataLen(GetLen.length);};var onAll=function onAll(){for(var i=0;i<btns.length;i++){btns[i].style.color=\"hsl(236, 9%, 61%)\";}btns[0].style.color=\"hsl(220, 98%, 61%)\";setCheckState(\"All\");};var onActive=function onActive(){for(var i=0;i<btns.length;i++){btns[i].style.color=\"hsl(236, 9%, 61%)\";}btns[1].style.color=\"hsl(220, 98%, 61%)\";setCheckState(\"Active\");setItems(props.Data);};var onComplete=function onComplete(){for(var i=0;i<btns.length;i++){btns[i].style.color=\"hsl(236, 9%, 61%)\";}btns[2].style.color=\"hsl(220, 98%, 61%)\";setCheckState(\"Complete\");};var onClear=function onClear(){setDataLen(0);props.onClearComplete();};return/*#__PURE__*/_jsxs(\"ul\",{className:\"UserResults\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"UserDrop\",ref:drop,children:props.Data.length===0?/*#__PURE__*/_jsx(TodoResults,{value:\"There are Nothing Here\",moveCard:moveCard,findCard:findCard,id:\"arsa\"}):checkState===\"All\"?cards.map(function(card){return/*#__PURE__*/_jsx(TodoResults,{value:card.value,state:card.state,id:\"\".concat(card.id),checkState:props.onCheckState,CheckLen:CheckLen,Delete:props.onDelete,moveCard:moveCard,findCard:findCard},card.id);}):checkState===\"Active\"?cards.map(function(card){return card.state===\"Active\"?/*#__PURE__*/_jsx(TodoResults,{value:card.value,state:card.state,id:card.id,checkState:props.onCheckState,CheckLen:CheckLen,Delete:props.onDelete,moveCard:moveCard,findCard:findCard},card.id):console.log(\"Error\");}):checkState===\"Complete\"?props.Data.map(function(card){return card.state===\"Complete\"?/*#__PURE__*/_jsx(TodoResults,{value:card.value,state:card.state,id:card.id,checkState:props.onCheckState,CheckLen:CheckLen,Delete:props.onDelete,moveCard:moveCard,findCard:findCard},card.id):console.log(\"Error\");}):console.log(\"Error\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"active-states\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[props.Data.length-Datalen,\" items left\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"check-btns\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"Checked-btns\",onClick:onAll,children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"Checked-btns\",onClick:onActive,children:\"Active\"}),/*#__PURE__*/_jsx(\"button\",{className:\"Checked-btns\",onClick:onComplete,children:\"Completed\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClear,children:\"Clear Completed\"})]})]});};export default TodoList;","map":{"version":3,"names":["React","update","useCallback","useEffect","useState","useDrop","ItemType","TodoResults","TodoList","props","Data","ITEMS","setItems","cards","setCards","findCard","id","card","filter","c","index","indexOf","moveCard","atIndex","$splice","onUpdate","str","localStorage","getItem","parseObj","JSON","parse","jsonObj","stringify","setItem","accept","CARD","drop","btns","document","getElementsByClassName","checkState","setCheckState","Datalen","setDataLen","CheckLen","GetLen","state","length","onAll","i","style","color","onActive","onComplete","onClear","onClearComplete","map","value","onCheckState","onDelete","console","log"],"sources":["E:/Front-End-Challenges/React-Challenges/Completed Challenges/ReactTodo/src/components/TodoList/TodoList.js"],"sourcesContent":["import React from 'react';\r\nimport update from \"immutability-helper\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useDrop } from \"react-dnd\";\r\nimport { ItemType } from \"../../utils/items\";\r\nimport \"./../UI/Todo.css\";\r\nimport TodoResults from \"./TodoResults\";\r\nconst TodoList = (props) => {\r\n  const [ITEMS, setItems] = useState(props.Data)\r\n  const [cards, setCards] = useState(ITEMS)\r\n  const findCard = useCallback(\r\n    (id) => {\r\n      const card = cards.filter((c) => `${c.id}` === id)[0]\r\n      return {\r\n        card,\r\n        index: cards.indexOf(card),\r\n      }\r\n    },\r\n    [cards],\r\n  )\r\n  useEffect(() => {\r\n    setCards(props.Data)\r\n  }, [props.Data])\r\n  const moveCard = useCallback(\r\n    (id, atIndex) => {\r\n      const { card, index } = findCard(id)\r\n      setCards(\r\n        update(cards, {\r\n          $splice: [\r\n            [index, 1],\r\n            [atIndex, 0, card],\r\n          ],\r\n        }),\r\n      )\r\n    },\r\n    [findCard, cards, setCards],\r\n  )\r\n\r\n  useEffect(() => {\r\n    props.onUpdate(cards)\r\n  }, [cards])\r\n\r\n  useEffect(() => {\r\n    const str = localStorage.getItem('test')\r\n    const parseObj = JSON.parse(str)\r\n    props.onUpdate(parseObj)\r\n    setCards(parseObj)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const jsonObj = JSON.stringify(props.Data)\r\n    localStorage.setItem('test', jsonObj)\r\n  }, [props.Data])\r\n\r\n  const [, drop] = useDrop(() => ({ accept: ItemType.CARD }))\r\n  const btns = document.getElementsByClassName(\"Checked-btns\");\r\n  const [checkState, setCheckState] = useState(\"All\");\r\n  const [Datalen, setDataLen] = useState(0);\r\n  const CheckLen = () => {\r\n    const GetLen = props.Data.filter((card) => {\r\n      return card.state === \"Complete\";\r\n    });\r\n    setDataLen(GetLen.length);\r\n  };\r\n\r\n  const onAll = () => {\r\n    for (let i = 0; i < btns.length; i++) {\r\n      btns[i].style.color = \"hsl(236, 9%, 61%)\";\r\n    }\r\n    btns[0].style.color = \"hsl(220, 98%, 61%)\";\r\n    setCheckState(\"All\");\r\n  };\r\n\r\n  const onActive = () => {\r\n    for (let i = 0; i < btns.length; i++) {\r\n      btns[i].style.color = \"hsl(236, 9%, 61%)\";\r\n    }\r\n    btns[1].style.color = \"hsl(220, 98%, 61%)\";\r\n    setCheckState(\"Active\");\r\n    setItems(props.Data)\r\n  };\r\n  const onComplete = () => {\r\n    for (let i = 0; i < btns.length; i++) {\r\n      btns[i].style.color = \"hsl(236, 9%, 61%)\";\r\n    }\r\n    btns[2].style.color = \"hsl(220, 98%, 61%)\";\r\n    setCheckState(\"Complete\");\r\n  };\r\n  const onClear = () => {\r\n    setDataLen(0);\r\n    props.onClearComplete();\r\n  };\r\n  return (\r\n    <ul className=\"UserResults\">\r\n        <div className=\"UserDrop\" ref={drop}>\r\n          {props.Data.length === 0 ? (\r\n            <TodoResults\r\n              value={\"There are Nothing Here\"}\r\n              moveCard={moveCard}\r\n              findCard={findCard}\r\n              id={\"arsa\"}\r\n            />\r\n          ) : checkState === \"All\" ? (\r\n            cards.map((card) => {\r\n              return (\r\n                <TodoResults\r\n                  value={card.value}\r\n                  state={card.state}\r\n                  id={`${card.id}`}\r\n                  key={card.id}\r\n                  checkState={props.onCheckState}\r\n                  CheckLen={CheckLen}\r\n                  Delete={props.onDelete}\r\n                  moveCard={moveCard}\r\n                  findCard={findCard}\r\n                />\r\n              );\r\n            })\r\n          ) : checkState === \"Active\" ? (\r\n            cards.map((card) => {\r\n              return card.state === \"Active\" ? (\r\n                <TodoResults\r\n                  value={card.value}\r\n                  state={card.state}\r\n                  id={card.id}\r\n                  key={card.id}\r\n                  checkState={props.onCheckState}\r\n                  CheckLen={CheckLen}\r\n                  Delete={props.onDelete}\r\n                  moveCard={moveCard}\r\n                  findCard={findCard}\r\n                />\r\n              ) : (\r\n                console.log(\"Error\")\r\n              );\r\n            })\r\n          ) : checkState === \"Complete\" ? (\r\n            props.Data.map((card) => {\r\n              return card.state === \"Complete\" ? (\r\n                <TodoResults\r\n                  value={card.value}\r\n                  state={card.state}\r\n                  id={card.id}\r\n                  key={card.id}\r\n                  checkState={props.onCheckState}\r\n                  CheckLen={CheckLen}\r\n                  Delete={props.onDelete}\r\n                  moveCard={moveCard}\r\n                  findCard={findCard}\r\n                />\r\n              ) : (\r\n                console.log(\"Error\")\r\n              );\r\n            })\r\n          ) : (\r\n            console.log(\"Error\")\r\n          )}\r\n        </div>\r\n      <div className=\"active-states\">\r\n        <p>{props.Data.length - Datalen} items left</p>\r\n        <div className=\"check-btns\">\r\n          <button className=\"Checked-btns\" onClick={onAll}>\r\n            All\r\n          </button>\r\n          <button className=\"Checked-btns\" onClick={onActive}>\r\n            Active\r\n          </button>\r\n          <button className=\"Checked-btns\" onClick={onComplete}>\r\n            Completed\r\n          </button>\r\n        </div>\r\n        <button onClick={onClear}>Clear Completed</button>\r\n      </div>\r\n    </ul>\r\n  );\r\n};\r\nexport default TodoList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}